import{r as n,j as e,H as o,a as v,b as c}from"./index-BtHg2gX_.js";import{u as i}from"./useQuery-DhFjY4zQ.js";function w(){const[r,d]=n.useState(null),[x,m]=n.useState("");n.useState([]);const g=async()=>(await c.get("https://ecommerce.routemisr.com/api/v1/categories")).data,h=async t=>(await c.get(`https://ecommerce.routemisr.com/api/v1/categories/${t}/subcategories`)).data,{data:l,isError:f,error:N,isLoading:u}=i({queryKey:["getCategories"],queryFn:g,retry:1/0}),{data:a,isLoading:j}=i({queryKey:["getSubcategories",r],queryFn:()=>h(r),enabled:!!r}),p=(t,s)=>{d(t),m(s)};return u?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(o,{color:"green"})}):f?e.jsx("div",{className:"text-center text-red-500 text-2xl pt-20",children:e.jsx("p",{children:"Something went wrong"})}):e.jsxs("div",{className:"frame",children:[e.jsxs("div",{className:"flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"lg:w-full lg:mx-4 lg:mb-0 flex-col lg:flex-row",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-green-700 text-center",children:"Categories"}),e.jsx("p",{className:"text-lg text-gray-500 mb-4 text-center",children:"We have a wide variety of Categories to choose from"}),e.jsx("div",{className:"flex flex-wrap -m-4 p-4 md:p-12",children:l==null?void 0:l.data.map((t,s)=>e.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/4 p-4 transition-transform transform hover:scale-105 cursor-pointer duration-200",onClick:()=>p(t._id,t.name),children:e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 h-full flex flex-col",children:[e.jsx("img",{className:"w-full h-64 object-cover mb-4 rounded",src:t.image,alt:t.name}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 title-font text-center",children:t.name})]})},s))})]}),r&&e.jsxs("div",{className:"mt-8 py-5",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 title-font mb-4 p-12 text-center",children:[e.jsx("span",{className:"text-green-600",children:x})," Subcategories"]}),j?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(o,{color:"green"})}):e.jsx(e.Fragment,{children:(a==null?void 0:a.data.length)<1?e.jsx("h3",{className:"text-lg font-bold title-font text-center text-green-950",children:"No Products Available"}):e.jsx("div",{className:"flex flex-wrap m-4",children:a.data.map((t,s)=>e.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/3 mx-auto p-6",children:e.jsx("div",{className:"bg-gray-100 cursor-pointer rounded-lg p-2 h-full flex flex-col duration-300 hover:shadow-2xl border-transparent mx-8 border-4 hover:scale-105 hover:bg-green-200",children:e.jsx("h3",{className:"text-lg font-bold title-font text-center text-indigo-950",children:t.name})})},s))})})]})]}),e.jsxs(v,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Categories"})]})]})}export{w as default};
